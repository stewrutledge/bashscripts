Various bash scripts I have written and use.

gencsr.sh [-l -c -s -o -u -d -i [y]
  -l Location
  -c Two Letter Country Code Country
  -s State
  -o Organization
  -u Organizational Unit
  -d Domain
  -i Generate insecure key (-i y)

Example:

gencsr.sh -l "Main Office" -c US -s IA -o "Willingtons sprockets" -u Marketing -d marketing.willsprockets.com

You will be prompted for a password three times, even if ran with -i. If ran without -i y, the first two prompts are password for the key, and confirm. The third is the password for the key for csr generation.

If ran with "-i y", an "insecure" key will be created, which removes the password from the key, useful if you want to be able to restart a webserver without needing to manually enter the key. The third prompt in the case is for stripping the password out of the key (which eliminates the need for a password when creating the CSR).
